
# Sparta_Unity_Inter_Team
내일배움캠프 유니티 숙련 팀프로젝트 입니다.

# Unity 퍼즐 & 상호작용 시스템

퍼즐 트리거, 손전등 감지, 오브젝트 상호작용을 기반으로 한 환경 상호작용 시스템입니다. 플레이어는 주어진 환경 속에서 오브젝트를 조작하고 퍼즐을 해결함으로써 보상을 얻을 수 있습니다.

##  주요 기능

- **퍼즐 트리거 기반 상호작용 퍼즐**
- **손전등 라이트 색상 기반 오브젝트 감지 시스템**
- **퍼즐 조건 충족 시 보상 오브젝트 활성화**

## 퍼즐 시스템 구조

### `PuzzleTriggerController`

| 필드                | 설명                                      |
|---------------------|-------------------------------------------|
| `puzzleTriggers`    | 퍼즐 조건 트리거 리스트                   |
| `rewardObjects`     | 퍼즐 성공 시 활성화될 보상 오브젝트들     |
| `CheckPuzzle()`     | 모든 트리거가 충족되었는지 확인            |
| `ActivatePuzzleReward()` | 퍼즐 성공 시 보상 활성화 및 사운드 재생 |

### `PuzzleTrigger`

- 지정된 인덱스를 기준으로 오브젝트가 트리거에 들어올 때 퍼즐 상태를 업데이트합니다.
- 트리거에서 나가면 퍼즐 조건을 해제합니다.

### `TriggerInteractableObject`

- 트리거에 들어오면 고정 위치에 배치되며 퍼즐 오브젝트로 작동합니다.
- `IInteractable` 구현체로 퍼즐 트리거에 인식됩니다.

## 손전등 감지 시스템

### `LightControlledVisibility`

- 손전등 빛이 감지 범위 내의 오브젝트를 스캔하여 반응 색상(`reactionColor`)이 일치할 경우 해당 오브젝트를 표시합니다.

### `VisibilityFilter`

| 필드              | 설명                                  |
|-------------------|-----------------------------------------|
| `reactionColor`   | 반응할 손전등 색상                       |
| `SetVisible(bool)`| Renderer 활성화 여부 조정               |

## 상호작용 시스템

### `InteractionController`

- 중심 카메라 기준으로 오브젝트를 감지하고 상호작용 가능 상태를 시각적으로 표시합니다.
- 아이템 줍기, 오브젝트 잡기, 퍼즐 작동 등 다양한 기능을 통합합니다.

### `GrabObjectController`

- 오브젝트를 잡거나 놓을 수 있는 기능을 제공합니다.

## 사용 방법

1. **퍼즐 초기화**
   - 퍼즐 트리거와 보상 오브젝트를 연결하여 `PuzzleTriggerController`에 설정
2. **퍼즐 트리거 작동**
   - 오브젝트가 트리거에 들어오면 퍼즐 조건 체크
3. **퍼즐 완성 시**
   - 모든 트리거가 활성화되면 보상 오브젝트가 나타나고 사운드가 재생됨

## 확장 아이디어

- 다양한 트리거 조건 추가 (예: 시간제한, 순서 조건)
- 오브젝트 조합 퍼즐 시스템 추가

## 개발 체크리스트

- [x] 플레이어의 오브젝트 상호작용 및 잡기 구현
- [x] 트리거 퍼즐 시스템 구현  
- [x] 손전등 기반 감지 시스템 구축  
- [x] 보상 오브젝트 제어 기능 개발  

## 퍼즐 예시

1. 1층 대칭 방에서 왼쪽에 놓인 오브젝트들을 참고하여 `IInteractable` 오브젝트를 알맞은 트리거에 배치 (총 4개)  
2. 대칭 방 퍼즐 트리거 조건 충족 시 마지막 열쇠 얻는 힌트 보상 획득  
3. 마지막 열쇠는 손전등으로 비춰야만 볼 수 있는 액자 오브젝트를 찾아서 침대 있는 방의 알맞은 트리거에 배치 (총 3개)
4. 마지막 열쇠 획득하여 문에서 사용하면 탈출!

